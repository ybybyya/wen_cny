<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>ğŸ† æ–°å¹´å¿«ä¹ ğŸ†</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: black;
    }
    canvas {
        display: block;
    }
    .text {
        position: absolute;
        top: 20%;
        width: 100%;
        text-align: center;
        color: gold;
        font-size: 60px;
        font-family: "Arial Black", sans-serif;
        text-shadow: 0 0 20px red, 0 0 40px yellow, 0 0 60px gold;
        pointer-events: none;
    }
</style>
</head>
<body>

<div class="text">ğŸ‰ æ–°å¹´å¿«ä¹ 2026 ğŸ‰</div>
<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let fireworks = [];
let stars = [];

// éšæœºç”Ÿæˆå¤œç©ºæµæ˜Ÿ
for(let i=0;i<100;i++){
    stars.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        size: Math.random()*2,
        alpha: Math.random()
    });
}

function Firework(x, y) {
    this.x = x;
    this.y = y;
    this.particles = [];
    const color = Math.random()*360;

    for (let i = 0; i < 80; i++) {  // å¢åŠ ç²’å­æ•°é‡
        this.particles.push({
            x: x,
            y: y,
            angle: Math.random() * 2 * Math.PI,
            speed: Math.random() * 6 + 2,
            alpha: 1,
            color: color + Math.random()*60
        });
    }

    this.update = function () {
        this.particles.forEach(p => {
            p.x += Math.cos(p.angle) * p.speed;
            p.y += Math.sin(p.angle) * p.speed + 0.5; // æ¨¡æ‹Ÿé‡åŠ›
            p.alpha -= 0.02;
        });
    };

    this.draw = function () {
        this.particles.forEach(p => {
            ctx.globalAlpha = p.alpha;
            ctx.fillStyle = `hsl(${p.color},100%,50%)`;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 3, 0, 2 * Math.PI);
            ctx.fill();
        });
        ctx.globalAlpha = 1;
    };
}

function Meteor() {
    this.x = Math.random()*canvas.width;
    this.y = Math.random()*canvas.height/2;
    this.len = Math.random()*100 + 50;
    this.speed = Math.random()*10 + 5;
    this.angle = Math.PI/4;
    this.alpha = 1;

    this.update = function () {
        this.x += Math.cos(this.angle) * this.speed;
        this.y += Math.sin(this.angle) * this.speed;
        this.alpha -= 0.01;
    }

    this.draw = function() {
        ctx.globalAlpha = this.alpha;
        ctx.strokeStyle = "white";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(this.x, this.y);
        ctx.lineTo(this.x - this.len*Math.cos(this.angle), this.y - this.len*Math.sin(this.angle));
        ctx.stroke();
        ctx.globalAlpha = 1;
    }
}

let meteors = [];

function animate() {
    // å¤œç©ºèƒŒæ™¯
    ctx.fillStyle = "rgba(0,0,0,0.2)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // æ˜Ÿæ˜Ÿ
    stars.forEach(s => {
        ctx.globalAlpha = s.alpha;
        ctx.fillStyle = "white";
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.size, 0, 2*Math.PI);
        ctx.fill();
        ctx.globalAlpha = 1;
    });

    fireworks.forEach((f,i)=>{
        f.update();
        f.draw();
        if(f.particles[0].alpha <=0) fireworks.splice(i,1);
    });

    meteors.forEach((m,i)=>{
        m.update();
        m.draw();
        if(m.alpha <=0) meteors.splice(i,1);
    });

    requestAnimationFrame(animate);
}

// è‡ªåŠ¨ç”ŸæˆçƒŸèŠ±
setInterval(() => {
    fireworks.push(new Firework(
        Math.random() * canvas.width,
        Math.random() * canvas.height / 2
    ));
}, 700);

// è‡ªåŠ¨ç”Ÿæˆæµæ˜Ÿ
setInterval(() => {
    meteors.push(new Meteor());
}, 1500);

// ç‚¹å‡»ç”ŸæˆçƒŸèŠ±
canvas.addEventListener("click", function (e) {
    fireworks.push(new Firework(e.clientX, e.clientY));
});

// é¡µé¢åŠ è½½è‡ªåŠ¨éœ‡åŠ¨æ¨¡æ‹Ÿ
window.onload = function(){
    if(navigator.vibrate) navigator.vibrate([100,50,100]);
};

animate();
</script>

</body>
</html>
